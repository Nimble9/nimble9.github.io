"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(f){function n(n){var e=f("body").find("img"),s=null;n<=720?s="src-mobile":s="src-pc",e.each(function(n,e){var t=f(e),i=t.data(s);t.data(s)&&t.attr("src",i)})}function p(n){var e=n.currentTarget;e.loop||(e.loop=!0,e.play())}function e(){var o=f(".tab-menus").find("a"),i=f(".tab-item"),l=(i.find("video").get(0),f(".tab-inner-text")),n=(l.find(".text-item"),{accessibility:!1,focusOnChange:!1,arrows:!0,dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!1,speed:500,autoplaySpeed:1e4,appendDots:f(".btn-dots"),fade:!0,cssEase:"ease",customPaging:function(n,e){var t=i.siblings(".tab-inner-text").find(".text-item").eq(e).find(".ecoBubble-sub-title").text();return'<button><span class="blind">selected</span> slide '.concat(e+1," : ").concat(t,"</button>")}});function d(n,e,t){n.attr("title",""),e.attr("title","Tab ".concat(t+1,": selected"))}i.on("init",function(n,e){e.$dots.find("li").removeAttr("aria-hidden"),e.$list.removeAttr("aria-live"),f(".slide-cont").find(".slick-dots").append('\n                      <li class="btn-play play">\n                        <button>\n                            <span class="blind">slide play</span>\n                        </button>\n                      </li>')}),i.slick(n),i.slick("setPosition"),b=f(".btn-play"),(v=b.find("button")).on("click",function(){b.hasClass("play")?(b.removeClass("play").addClass("pause"),v.find("span").text("slide pause"),i.slick("slickPlay")):(b.removeClass("pause").addClass("play"),v.find("span").text("slide play"),i.slick("slickPause"))}),i.on("beforeChange",function(n,e,t,i){var s=o.eq(i),a=s.parent();a.siblings().removeClass("on"),a.addClass("on"),l.each(function(n,e){f(e).find(".text-item").hide(),f(e).find(".text-item").eq(i).fadeIn()}),d(o,s,i)}),i.on("afterChange",function(n,e,t){var i=o.eq(t),s=e.$slides.eq(t).find("video")[0];i.attr("href"),0<s.readyState&&(s.play(),s.onended=function(n){return p(n)},f(s).siblings(".vid-cont").find(".btn-vid").removeClass("play").addClass("pause"),f(s).siblings(".vid-cont").find("em").text("pause")),e.$dots.find("li").removeAttr("aria-hidden")}),i.find(".slick-arrow").on("focus",function(){b.hasClass("pause")&&i.slick("slickPause")}),i.find(".slick-arrow").on("blur",function(){b.hasClass("pause")&&i.slick("slickPlay")}),o.on("click",function(n){n.preventDefault(),n.stopPropagation();var e=f(n.currentTarget),t=o.index(e);return d(o,e,t),i.slick("slickGoTo",t),e.focus(),!1})}function t(){var r=null,u=!1;!function(){f(".ecoBubble-section");var n=f(".ecoBubble-btn").find("video"),i=[0,0];n.each(function(t,n){n.oncanplay=function(n){!function(n){var e=f(n).parents(".ecoBubble-visual").siblings(".btn-default");n.onended=function(){i[t]++,1<i[t]?(i[t]=0,e.hasClass("on")||e.addClass("on"),f(n).siblings(".vid-cont").find(".btn-vid").removeClass("pause").addClass("play"),f(n).siblings(".vid-cont").find("em").text("play")):(n.play(),f(n).parents(".ecoBubble-section").removeClass("ecoBubble-vid"))},n.onplay=function(){e.hasClass("on")&&e.removeClass("on")}}(n.target)}})}(),i.on("scroll",function(){i.scrollTop();o=!0}),setInterval(function(){o&&(function(){f(".ecoBubble-section");function d(n){1024<i.innerWidth()&&(b.removeClass("play").addClass("pause"),v.find("span").text("slide pause"),n.slick("slickPlay"))}var n=f(".ecoBubble-btn").find("video"),c=i.innerHeight(),e=f("video");r=i.scrollTop(),e.each(function(n,e){var t=f(e),i=t.get(0),s=t.parents(".ecoBubble-vid"),a=t.offset().top+t.innerHeight()-c;if("block"===s.css("display")&&a<r&&r<a+.25*c&&0<i.readyState&&!t.hasClass("played")){var o=t.parents(".tab-item");if(i.paused){if(i.play(),t.addClass("played"),f(i).siblings(".vid-cont").find(".btn-vid").removeClass("play").addClass("pause"),f(i).siblings(".vid-cont").find("em").text("pause"),!b.hasClass("pause")&&!u){var l=f("#tab1").find("video")[0];l.onplay=function(){u=!u},l.onended=function(n){return p(n)},d(o)}}else d(o)}}),n.each(function(n,e){function t(){o.hasClass("ecoBubble-vid")||o.addClass("ecoBubble-vid")}var i=f(e),s=i.offset().top,a=s+i.innerHeight(),o=i.parents(".ecoBubble-section");r<s-c?t():a<r&&t()})}(),o=!1)},1e3/30)}var i,s,a,o,b,v;window.ecoBubble=(i=f(window),console.log,o=!1,v=b=a=s=null,f(function(){s=i.innerWidth(),i.innerHeight(),"object"!==("undefined"==typeof HTMLVideoElement?"undefined":_typeof(HTMLVideoElement))&&"function"!=typeof HTMLVideoElement&&f(".ecoBubble-wrapper").addClass("no-video"),function(){var n=f(".sound-cont").find("button"),o=n.siblings(".effect"),e=f(".phase").parent(),l=0;n.on("click",function(n){var e=f(n.currentTarget),t=e.find("em"),i=e.parents(".sound-cont").siblings("video")[0],s=e.find("i"),a=o.find("i");l=0,i.muted=!i.muted,i.muted?(t.text("on"),s.removeClass("off"),s.addClass("on"),a.addClass("on")):(t.text("off"),s.removeClass("on"),s.addClass("off"),f(".phase").removeClass("on"),a.removeClass("on"))}),setInterval(function(){e.hasClass("on")&&(f(".phase_"+ ++l).addClass("on"),2<l&&(l=0,f(".phase").removeClass("on")))},1200)}(),n(s),e(),t(),function(){var n=f(".choose-item").find(".choose-ecoBubble");n.on("init",function(n,e){e.$dots.find("li").removeAttr("aria-hidden")}),n.slick({accessibility:!1,arrows:!1,dots:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:721,settings:"unslick"}],customPaging:function(n,e){var t=n.$slides.eq(e).find(".ecoBubble-sub-title").text();return'<button><span class="blind">selected</span> slide '.concat(e+1," : ").concat(t,"</button>")}}),n.on("afterChange",function(n,e,t){e.$dots.find("li").removeAttr("aria-hidden")}),i.on("resize",function(){setTimeout(function(){s=i.innerWidth(),i.innerHeight(),s<721&&n.slick("resize")},150)})}(),function(){var n=f(".ecoBubble-video");n.each(function(n,e){var t=f(e);t.append('<div class="vid-cont">\n                        <div class="btn-vid play">\n                            <button>\n                                <span class="blind"> <em>play</em></span>\n                            </button>\n                        </div>\n                    </div>');var i=f(".btn-vid");t.find("video")[0].autoplay&&(i.removeClass("play").addClass("pause"),i.find("em").text("pause"))}),n.find(".vid-cont").find("button").on("click",function(n){var e=f(n.currentTarget),t=e.parents(".vid-cont").siblings("video"),i=e.parents(".btn-vid");t[0].paused?(t[0].play(),i.removeClass("play").addClass("pause"),i.find("em").text("pause")):(t[0].pause(),i.removeClass("pause").addClass("play"),i.find("em").text("play"))})}()}),void i.on("resize",function(){clearTimeout(a),a=setTimeout(function(){s=i.innerWidth(),i.innerHeight(),n(s),s<721&&f(".about-img-null").parent().hide(),s<1025&&(f(".tab-item").slick("slickPause"),b.removeClass("pause").addClass("play"),v.find("span").text("slide play"))},25)}))}(jQuery);